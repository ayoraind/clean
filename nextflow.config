manifest {
    mainScript = 'clean.nf'
}

// default parameters
params {
  cores = '4'
  memory = 4.GB
  help = false
  profile = false

  // input - reads
  nano = ''
  illumina = ''
  fasta = ''
  list = false

  // input - contamination
  controldir = 'data/controls'

  // parameters
  host = false
  own = false
  control = false
  bbduk = false
  bbduk_kmer = 27
  rna = false

  // folder structure
  output = 'results'

  // optional profile configurations, only necessary for HPC LSF execution
  workdir = "/tmp/nextflow-work-$USER"
  cloudDatabase = false
  cachedir = false

}

profiles {

    standard { 
        params.cloudProcess = false
        params.cloudDatabase = false
        includeConfig 'configs/local.config' }

    conda { 
        params.cloudProcess = false
        params.cloudDatabase = false
        includeConfig 'configs/conda.config' }

    lsf {
        params.cloudProcess = true
        includeConfig 'configs/lsf.config' }

    ebi {
        params.cloudProcess = true
  	    params.workdir = "/hps/nobackup2/production/metagenomics/mhoelzer/nextflow-work-$USER"
  	    params.cloudDatabase = "/homes/$USER/data/nextflow-databases/"
  	    params.cachedir = "/hps/nobackup2/singularity/$USER"
        includeConfig 'configs/lsf.config' }

    // CONFIGURE PRIVATE CLOUD

    gcloudMartin { 
        params.cloudProcess = true
        params.cloudDatabase = 'gs://tmp-data-development-martin/databases/'
        bucketDir = 'gs://tmp-data-development-martin/WORKDIR-FOLDER'
        google {  project = 'development-martin'; zone = 'europe-west1-b' }  
        includeConfig 'configs/googlegenomics.config' }

}
