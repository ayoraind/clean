manifest {
    mainScript = 'clean.nf'
}

// default parameters
params {
  max_cores = '24'
  cores = '8'
  max_memory = 24.GB
  memory = 8.GB
  help = false
  profile = false

  // input - reads
  nano = ''
  illumina = ''
  illumina_single_end = ''
  fasta = ''
  list = false

  // parameters
  host = false
  own = false
  control = false
  rm_rrna = false
  bbduk = false
  bbduk_kmer = 27
  reads_rna = false

  // folder structure
  output = 'results'
  
  // location for storing the conda environments
  condaCacheDir = 'conda'

  // optional profile configurations, only necessary for HPC LSF execution
  workdir = "/tmp/nextflow-work-$USER"
  cloudDatabase = false
  cachedir = false

}

profiles {

    standard { 
        params.cloudProcess = false
        params.cloudDatabase = false
        includeConfig 'configs/local.config'
        includeConfig 'configs/docker.config' }

    local_conda { 
        params.cloudProcess = false
        params.cloudDatabase = false
        conda.cacheDir = condaCacheDir
        includeConfig 'configs/conda.config'
        includeConfig 'configs/local.config' }
    
    ara {
        params.cloudProcess = true
        params.cloudDatabase = "/beegfs/rna-hta/nextflow-clean-autodownload/"
        conda.cacheDir = "/beegfs/rna-hta/$USER/nextflow-conda-cache"
        includeConfig 'configs/conda.config'
        includeConfig 'configs/slurm.config'
    }

    lsf {
        params.cloudProcess = true
        includeConfig 'configs/lsf.config' }

    ebi {
        params.cloudProcess = true
  	    params.workdir = "/hps/nobackup2/production/metagenomics/mhoelzer/nextflow-work-$USER"
  	    params.cloudDatabase = "/homes/$USER/data/nextflow-databases/"
  	    params.cachedir = "/hps/nobackup2/singularity/$USER"
        includeConfig 'configs/lsf.config' }

    // CONFIGURE PRIVATE CLOUD

    gcloudMartin { 
        params.cloudProcess = true
        params.cloudDatabase = 'gs://tmp-data-development-martin/databases/'
        bucketDir = 'gs://tmp-data-development-martin/WORKDIR-FOLDER'
        google {  project = 'development-martin'; zone = 'europe-west1-b' }  
        includeConfig 'configs/googlegenomics.config' }

}
